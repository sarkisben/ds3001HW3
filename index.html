<!DOCTYPE html>
<html>
   <head>
      <title> Hello World </title>
      <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
      <script src="https://d3js.org/d3.v5.min.js"></script>
  </head>
  <body>
     <script>
        var dataset = [];
        d3.csv("Diplomatic_Exchange_2006v1.csv").then(function(data) {
           dataset = data.map(function(d) { return [ +d["ccode1"], +d["ccode2"], +d["year"], +d["DR_at_1"], +d["DR_at_2"], +d["DE"], +d["version"] ]; });
           console.log(dataset)
        });
        var countrycodes = [];
        d3.csv("COW country codes.csv").then(function(data) {
           codes = data.map(function(d) { return [ d["StateAbb"], +d["CCode"], d["StateNme"] ]; });
           console.log(codes)
        });
        dataset.forEach(function(data) {
           var result = countrycodes.filter(function(countrycode) {
              return countrycodes.CCode == data.ccode1;
           });
           delete data.ccode1;
           data.ccode1 = (result[0] !== undefined) ? result[0].name : null;
        });
         dataset.forEach(function(data) {
           var result = countrycodes.filter(function(countrycode) {
              return countrycodes.CCode == data.ccode2;
           });
           delete data.ccode2;
           data.ccode2 = (result[0] !== undefined) ? result[0].name : null;
        });
        console.log(dataset)
     </script>
    <h1> Oh hi Mark! </h1>
     <p> This should be size 12 </p>
  </body>
</html>

